### 思路

- 可达性用回溯法
- 注意需要遍历每个点作为起点！！！（每次我总是忘记这一点）
- 在findPath函数中最终返回true的条件是到达str_index==str.length(也就是说前面的都匹配上了，否则就会在前面返回false)

```java
public boolean hasPath(char[] matrix, int rows, int cols, char[] str){
        if(matrix==null || matrix.length==0 || str==null || str.length==0)
            return false;
        int[] directions = new int[]{-1, 1 , cols, -cols};
        boolean[] flag = new boolean[matrix.length];
        for(int i=0;i<matrix.length;i++){
            if(findPath(matrix, directions, flag, str, i, 0))
                return true;
        }
        return false;
    }

    private boolean findPath(char[] matrix, int[] directions, boolean[] flag, char[] str, int matrix_index, int str_index){
        if(str_index==str.length)
            return true;
        if(matrix_index<0 || matrix_index>=matrix.length || flag[matrix_index] || matrix[matrix_index]!=str[str_index])
            return false;
        
        char tmp = matrix[matrix_index];
        flag[matrix_index] = true;
        for(int dir : directions){
            if(findPath(matrix, directions, flag, str, matrix_index+dir, str_index+1))
                return true;
            }
        flag[matrix_index] = false;
        return false;
    }
```

